<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>个人注册</title>
<link href="__PUBLIC__/Css/reg_css.css"  rel="stylesheet" />
</head>
<body>
<load href="__PUBLIC__/Js/UserJs.js" />
<load href="__PUBLIC__/Js/jquery-1.7.2.min.js" />
<script language="javascript">
function yhServer(Ful,lx){
	var str = $F(Ful).replace(/^\s+|\s+$/g,"");
	var re = /[^(\w){6,20}$]/g;
	str = str.replace(re,"");
	document.getElementById(Ful).value = str;
	if (str != ""){
		if(lx==0){ThinkAjax.send('__APP__/Fck/check_shopid/','ajax=1&shopid='+str,'',Ful+'1');}
		if(lx==1){ThinkAjax.send('__APP__/Fck/check_reid/','ajax=1&reid='+str,'',Ful+'1');}
		if(lx==2){ThinkAjax.send('__APP__/Fck/check_fid/','ajax=1&fid='+str,'',Ful+'1');}
		if(lx==3){ThinkAjax.send('__APP__/Fck/check_userid/','ajax=1&userid='+str,'',Ful+'1');}
	}
}
function guolv(Ful){
	var str = $F(Ful).replace(/^\s+|\s+$/g,"");
	var re = /[^(\w){6,20}$]/g;
	str = str.replace(re,"");
	document.getElementById(Ful).value = str;
}
</script>
<div id="registers">
  <div class="register_form"><a href="__URL__/us_regAC"><div class="register"></div></a>
    <div class="register_nav" style="color:#FFF;">个人注册</div>
    <div class="register_con error">
      <ul class="card_box visible">
        <form id="register_form" action="__URL__/us_regAC" method="post">
          <div class="input-error-info">
            <div class="errorMessage" id="Company_company_name_em_" style="display:none"></div>
          </div>
          <li class="input-error"  style="display:none;">
           <span><i>*</i>所属受理中心：</span><input name="shopid" type="text" id="shopid" value="{$rs['user_id']}" onKeyUp="guolv(this.name)" placeholder="请填写所属受理中心编号" class="logininput" maxlength="32"  />
          </li>
          <div class="input-error-info">
            <div id="shopid1" class="info" style="display:none"><div id="0" class="errorMessage"><div class="msg_tip">请填写所属受理中心编号</div></div></div>
          </div>
          <li class="input-error">
            <span><i>*</i>推荐人账号：</span><input name="RID" id="RID" type="text" value="{$rs['user_id']}" onKeyUp="guolv(this.name)"  onBlur="javascript:yhServer(this.name,'1');" class="logininput" maxlength="32" placeholder="请填写推荐人" readonly="readonly"  />
          </li>

          <div class="input-error-info">
            <div class="errorMessage" id="Company_contact_em_" style="display:none"></div>
          </div>
          <li class="input-error">
		   
            <span><i>*</i>新用户账号：</span><input name="UserID" id="UserID" type="text"  value="{$flist['UserID']}" class="logininput"  nBlur="javascript:yhServer(this.name,'3');" maxlength="32" readonly="readonly" />
			<input type="button" onclick="acc();" value=" 换一个 " id="changeacc" >
          </li>

		            <div class="input-error-info">
            <div class="errorMessage" id="Company_contact_em_" style="display:none"></div>
          </div>
          <li class="input-error">
		   
            <span><i>*</i>新用户昵称：</span><input name="nickname" type="text" class="logininput" id="nickname" onKeyUp="guolv(this.name);"  maxlength="32"/>
          </li>
      <li class="input-error">
            <span><i>*</i>手机号码：</span>
            <input name="UserTel" type="text" class="logininput"  id="UserTel" onblur="yhPass(this.name);" value="" placeholder="请填写联系电话" maxlength="20"/>
            <input type="button" onclick="send_sms();" value=" 获取验证码 " id="send" data-val="0">
          </li>

  <li class="input-error">
            <span><i>*</i>手机验证码：</span>
            <input name="Mcode" type="text" class="logininput"  id="Mcode" onblur="yhPass(this.name);" value="" placeholder="请填写手机验证码" maxlength="20"/>
          </li>






          <div class="input-error-info">
            <div class="errorMessage" id="Company_contact_em_" style="display:none"></div>
          </div>
          <li class="input-error">
            <span><i>*</i>登录密码：</span><input name="Password" type="password" class="logininput"  id="Password" onblur="yhPass(this.name);" value="" maxlength="32" placeholder="请填写一级密码"/>
          </li>
          <div class="input-error-info">
            <div class="errorMessage" id="Company_phone_em_" style="display:none"></div>
          </div>
          <li class="input-error">
            <span><i>*</i>确认登录密码：</span>
            <input name="rePassword" type="password"  id="rePassword" onblur="yhrePass(this.name,'Password');" value="" class="logininput" maxlength="32" placeholder="请填写确认一级密码" />
          </li>
          <div class="input-error-info">
            <div class="errorMessage" id="Company_moblie_em_" style="display:none"></div>
          </div>
          <li class="input-error">
            <span><i>*</i>二级密码：</span>
            <input name="PassOpen" type="password"  id="PassOpen" onblur="yhPass(this.name);" value="" class="logininput" maxlength="32" placeholder="请填写二级密码" />
          </li>
          <div class="input-error-info">
            <div class="errorMessage" id="Company_password_em_" style="display:none"></div>
          </div>
          <li class="input-error">
            <span><i>*</i>确认二级密码：</span>
            <input name="rePassOpen" type="password"  id="rePassOpen" onblur="yhrePass(this.name,'PassOpen');" value="" class="logininput" placeholder="请填写确认二级密码"/>
          </li>
		  <!--
          <div class="input-error-info">
            <div class="errorMessage" id="Company_password_again_em_" style="display:none"></div>
          </div>
		   
          <li class="input-error">
            <span><i>*</i>开户银行：</span>
            <select name="BankName" onChange="javasctip:bank_us(this.value);">
          <volist name='bank' id='voo'>
              <option value="{$bank[$key]}">{$bank[$key]}</option>
          </volist>
        </select>
          </li>
          
          
          <div class="input-error-info">
            <div class="errorMessage" id="Company_password_em_" style="display:none"></div>
          </div>
          <li class="input-error">
            <span><i>*</i>银行卡号：</span>
            <input name="BankCard" type="text" class="logininput" id="BankCard" onblur="yhPass(this.name);" value="" maxlength="19" placeholder="请填写银行卡号" />
          </li>
          <div class="input-error-info">
            <div class="errorMessage" id="Company_password_em_" style="display:none"></div>
          </div>
          <li class="input-error">
            <span><i>*</i>开户姓名：</span>
            <input name="UserName" type="text" class="logininput"  id="UserName" onblur="yhPass(this.name);" value="" maxlength="30" placeholder="请填写开户姓名" />
          </li>
          <div class="input-error-info">
            <div class="errorMessage" id="Company_password_em_" style="display:none"></div>
          </div>
          <li class="input-error">
            <span><i></i>开户省份：</span><select name="BankProvince" id="s1" >
            <option></option>
          </select>
          </li>
          <div class="input-error-info">
            <div class="errorMessage" id="Company_password_em_" style="display:none"></div>
          </div>
          <li class="input-error">
            <span><i></i>开户城市：</span><select name="BankCity" id="s2" >
            <option></option>
          </select>
          </li>
          <div class="input-error-info">
            <div class="errorMessage" id="Company_password_em_" style="display:none"></div>
          </div>
          <li class="input-error">
            <span><i></i>详细开户地址：</span>
            <input name="BankAddress" type="text" class="logininput" id="BankAddress" value="" placeholder="请填写详细开户地址" />
          </li>
		  
          <script language = JavaScript>
        var s=["s1","s2"];
        var opt0 = ["请选择","请选择"];
        function setup()
        {
            for(i=0;i<s.length-1;i++)
            document.getElementById(s[i]).onchange=new Function("change("+(i+1)+")");
            change(0);
        }
        setup();
      </script>
          <div class="input-error-info">
            <div class="errorMessage" id="Company_password_em_" style="display:none"></div>
          </div>
          <li class="input-error">
            <span><i></i>支付宝：</span>
            <input name="UserEmail" type="text" class="logininput" id="UserEmail"  value="" placeholder="请填写支付宝" />
          </li>
          <div class="input-error-info">
            <div class="errorMessage" id="Company_password_em_" style="display:none"></div>
          </div>
          <li class="input-error">
            <span><i></i>联系Q Q：</span>
            <input name="qq" type="text"  id="qq" class="logininput"  onblur="yhPass(this.name);" value="" placeholder="请填写联系Q Q" />
          </li>
          <div class="input-error-info">
            <div class="errorMessage" id="Company_password_em_" style="display:none"></div>
          </div>
          <li class="input-error">
            <span><i></i>微信号：</span>
            <input name="chat" type="text"  id="chat" class="logininput"  value="" placeholder="请填写微信号" />
          </li>
	  -->
          <div class="input-error-info">
            <div class="errorMessage" id="Company_password_em_" style="display:none"></div>
          </div>
    
          <div class="input-error-info">
            <div class="errorMessage" id="Company_password_em_" style="display:none"></div>
          </div>
          <li><a href="javascript:void(0);" class="register_sub" name="submit1" id="Access" onclick="document.getElementById('register_form').submit();">注册</a>
          </li>
          <li class="register_reg">已有新买卖宝互助帐号 <a href="./index.php?s=/Public/login"> 登录 </a></li>
          <!-- id="register" -->

		  <table style="display:none">
					      <tr style="display:none">
        <td width="20%" align="right"><span class="zc_hong">*</span> 所属区域：</td>
        <td width="20%"><input name="quyu" type="text" id="quyu" value="800000" class="ipt" onFocus="notice('0','')" value="{$rs['quyu']}"/></td>
        <td width="60%"><div id="quyu1" class="info"><div id="0" class="focus_r"><div class="msg_tip">请填写所属区域编号</div></div></div></td>
      </tr>
      <tr style="display:none">
        <td align="right"><span class="zc_hong">*</span> 三级密码：</td>
        <td><input name="passopentwo" type="password" class="ipt"  id="passopentwo"   onblur="javascript:yhPass(this.name);notice('17','none')" value="333333"/></td>
        <td><div id="passopentwo1" class="info"><div id="17" class="focus_r" ><div class="msg_tip">请使用字母加数字或符号的组合密码。</div></div></div></td>
      </tr>
      <tr style="display:none">
        <td align="right"><span class="zc_hong">*</span> 确认三级密码：</td>
        <td><input name="repassopentwo" type="password" class="ipt"  id="repassopentwo" onFocus="notice('16','')"  onblur="javascript:yhrePass(this.name,'passopentwo');notice('16','none')" value="333333"/></td>
        <td><div id="repassopentwo1" class="info"><div id="16" class="focus_r"><div class="msg_tip">确认三级密码。</div></div></div></td>
      </tr>
	        <tr style="display:none">
        <td align="right"><span class="zc_hong">*</span>{:xstr('person_idcode')}：</td>
        <td><input name="UserCode" type="text" class="ipt" id="UserCode" onFocus="notice('11','')"  onblur="notice('11','none')" onKeyUp="javascript:Null_Full(this.name)" value="" maxlength="18" /></td>
        <td><div id="UserCode1" class="info"><div id="11" class="focus_r" style="display:none;"><div class="msg_tip">请输入您的身份证号。</div></div></div></td>
      </tr>
      <tr style="display:none">
        <td align="right"><span class="zc_hong">*</span>{:xstr('contact_address')}：</td>
        <td><input name="UserAddress" type="text" class="ipt" id="UserAddress" onFocus="notice('12','')"  onblur="notice('12','none')" onKeyUp="javascript:Null_Full(this.name)" value="" /></td>
        <td><div id="UserAddress1" class="info"><div id="12" class="focus_r" style="display:none;"><div class="msg_tip">请输入您的联系地址。</div></div></div></td>
      </tr>
	         <tr style="display:none">
            <td align="right">申请级别：</td>
            <td colspan="2">
            <volist name="regMoney" id="svo">
            <eq name="key" value="0">
            <input name="u_level" type="radio" id="radio" value="{$key}" checked="checked" width="60"  />
            <strong><span class="STYLE3">{$regLevel[$key]}【{$regMoney[$key]}元】 </span></strong>
            <else/>
            <input name="u_level" type="radio" id="radio" value="{$key}" />
            <strong><span class="STYLE3">{$regLevel[$key]}【{$regMoney[$key]}元】 </span></strong>
            </eq>
            </volist>

            </td>
      </tr>
	        <tr style="display:none">
        <td align="right"><span class="zc_hong">*</span>{:xstr('person_idcode')}：</td>
        <td><input name="UserCode" type="text" class="ipt" id="UserCode" onFocus="notice('11','')"  onblur="notice('11','none')" onKeyUp="javascript:Null_Full(this.name)" value="" maxlength="18" /></td>
        <td><div id="UserCode1" class="info"><div id="11" class="focus_r" style="display:none;"><div class="msg_tip">请输入您的身份证号。</div></div></div></td>
      </tr>
      <tr style="display:none">
        <td align="right"><span class="zc_hong">*</span>{:xstr('contact_address')}：</td>
        <td><input name="UserAddress" type="text" class="ipt" id="UserAddress" onFocus="notice('12','')"  onblur="notice('12','none')" onKeyUp="javascript:Null_Full(this.name)" value="" /></td>
        <td><div id="UserAddress1" class="info"><div id="12" class="focus_r" style="display:none;"><div class="msg_tip">请输入您的联系地址。</div></div></div></td>
      </tr>
	  </table>
        </form>
      </ul>
    </div>
  </div>
  <div class="bottom_bg"></div>
</div>
<script>

function GetRandomNum(Min,Max)
{   
var Range = Max - Min;   
var Rand = Math.random();   
return(Min + Math.round(Rand * Range));   
}   


function acc()
{
var num = GetRandomNum(10000000,99999999);   
	document.getElementById("UserID").value = "M" + num;;   
}
function send_sms(){
   var phone=$('#UserTel').val();
   if(phone.length!=11){
      alert('请检查您的手机号码');
      return false;
   }
    var flag=parseInt($('#send').attr('data-val'));
   if(flag==1){
      return false;
   }
   $.ajax({
         type:'post',
         url:'{:U('Public/send_code_msg')}',
         dataType: "json",
         data:{'phone':phone},
         success:function(data){
               if(data.status == 0){
               $('#send').attr('data-val','1');
                   jishi(60);
               }else{
                   alert(data.info);
               }
         }
         })
   return false;
}
function jishi(time){
   time--;
   if(time>0){
      $('#send').val('验证码已经发送，等待'+time+'秒可重新发送');
      setTimeout('jishi('+time+')',1000);
    }else{
       $('#send').attr('data-val','0');
       $('#send').val('发送验证码');
    }
}
</script>
</body>
</html>
